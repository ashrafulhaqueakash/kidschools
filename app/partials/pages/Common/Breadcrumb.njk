{% macro breadcrumbBlock(title='', details='', bg='', crumbs=[]) -%}
{# 
  Breadcrumb Block (Nunjucks)
  --------------------------------------------------------------------
  Classes used:
    - breadcrumb-block
    - breadcrumb-block__page-title
    - breadcrumb-block__page-details
  Dynamic:
    - title (string)         -> H1 title text (falls back to page.title if empty)
    - details (string)       -> Small descriptive text under the title
    - bg (string|url)        -> Background image URL
    - crumbs (array of objs) -> [{ label: 'Home', url: '/' }, { label: 'Current Page' }]
#}

<section class="breadcrumb-block pt-100 pb-100 bg-polar position-relative" aria-label="Breadcrumb section">
    <!-- Shape 1 -->
  <div class="shape-1">
    <img src="./image/svg/dragon.svg" alt="">
  </div>
  <!-- Shape 2 -->
  <div class="shape-2">
    <img src="./image/svg/umbrella.svg" alt="">
  </div>
  <!-- Shape 3 -->
  <div class="shape-3">
    <img src="./image/svg/doll.svg" alt="">
  </div>
  <!-- Shape 4 -->
  <div class="shape-4">
    <img src="./image/svg/elephent.svg" alt="">
  </div>
  <div class="breadcrumb-block__bg" 
       {% if bg %}style="background-image: url('{{ bg | safe }}');"{% endif %}
       aria-hidden="true"></div>

  <div class="container">
    {% if crumbs and crumbs.length %}
      <nav class="breadcrumb-block__nav" aria-label="Breadcrumb">
        <ol class="breadcrumb">
          {% for c in crumbs %}
            <li class="breadcrumb-item{% if loop.last %} active{% endif %}">
              {% if c.url and not loop.last %}
                <a href="{{ c.url }}">{{ c.label }}</a>
              {% else %}
                <span aria-current="page">{{ c.label }}</span>
              {% endif %}
            </li>
          {% endfor %}
        </ol>
      </nav>
    {% endif %}

    <h1 class="breadcrumb-block__page-title">
      {{ title or (page and page.title) or '' }}
    </h1>

    {% if details %}
      <p class="breadcrumb-block__page-details">{{ details }}</p>
    {% endif %}
  </div>
</section>
{%- endmacro %}

{# ------------------------------------------------------------------
   Example usage #1 (direct include)
   ------------------------------------------------------------------ #}
{# 
{% from "Breadcrumb.njk" import breadcrumbBlock %}
{{ breadcrumbBlock(
  title   = "About Us",
  details = "We craft digital commerce experiences.",
  bg      = "/images/breadcrumbs/about-hero.jpg",
  crumbs  = [
    { label: "Home", url: "/" },
    { label: "About Us" }
  ]
) }}
#}

{# ------------------------------------------------------------------
   Example usage #2 (using front matter data in Eleventy)
   In your page's front matter:
   ---
   title: Services
   breadcrumb:
     details: "Everything you need to launch and grow."
     bg: "/images/breadcrumbs/services-hero.jpg"
     crumbs:
       - { label: "Home", url: "/" }
       - { label: "Services" }
   ---

   Then in your layout:
   {% from "Breadcrumb.njk" import breadcrumbBlock %}
   {{ breadcrumbBlock(
     title   = title, 
     details = breadcrumb.details, 
     bg      = breadcrumb.bg, 
     crumbs  = breadcrumb.crumbs
   ) }}
#}

